---
layout: post
title: 贝叶斯方法
categories: 数学
comments: false
description: 科普文章
keywords: bayesian
mathjax: true
---
### 这是一篇科普文章
“现实世界本身就是不确定的，人类的观察能力是有局限性的”
> “逆概”问题:“如果我们事先并不知道袋子里面黑白球的比例，而是闭着眼睛摸出一个（或好几个）球，观察这些取出来的球的颜色之后，那么我们可以就此对袋子里面的黑白球的比例作出什么样的推测”

#### 男女裙裤小例子
假设一个学校里有60％男生和40%女生。女生穿裤子的人数和穿裙子的人数相等，所有男生穿裤子。一个人在远处随机看到了一个穿裤子的学生。那么这个学生是女生的概率是多少？

使用[贝叶斯定理](https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86 "贝叶斯定理")，事件A是看到女生，事件B是看到一个穿裤子的学生。我们所要计算的是P(A \| B)。


P(A)是忽略其它因素，看到女生的概率，在这里是40%

P(A')是忽略其它因素，看到不是女生（即看到男生）的概率，在这里是60%

P(B \| A)是女生穿裤子的概率，在这里是50%

P(B \| A')是男生穿裤子的概率，在这里是100%

P(B)是忽略其它因素，学生穿裤子的概率，P(*B*) = P(*B*\|*A*)P(*A*) + P(*B*\|*A*')P(*A*')，在这里是0.5×0.4 + 1×0.6 = 0.8.

根据贝叶斯定理，我们计算出这个人是女孩的**后验概率**P(A \| B)

$$
{\displaystyle P(A|B)={\frac {P(B|A)P(A)}{P(B)}}={\frac {0.5\times 0.4}{0.8}}=0.25}
$$

在这里，我们不妨把问题重新叙述成：你在校园里面随机游走，遇到了 N 个穿长裤的人（仍然假设你无法直接观察到他们的性别），问这 N 个人里面有多少个女生多少个男生。在穿长裤的人（ P(Pants) ）里面有多少（穿长裤）的女孩 = P（Girl \| Pants)*N 。本质和初始问题是一样的。




- 先验概率，条件概率（女生穿长裤）：是指根据以往经验和分析得到的概率
- 后验概率（穿长裤的是女生）：事情已经发生，要求这件事情发生的原因是由某个因素引起的可能性的大小

**应用：**即使100%的胰腺癌症患者都有某症状，而某人有同样的症状，绝对不代表该人有100%的概率得胰腺癌，还需要考虑先验概率，假设胰腺癌的发病率是十万分之一，而全球有同样症状的人有万分之一，则此人得胰腺癌的概率只有十分之一，90%的可能是是假阳性。


#### 拼写纠正例子
Q：问题是我们看到用户输入了一个不在字典中的单词，我们需要去猜测：“这个家伙到底真正想输入的单词是什么呢？”

用刚才我们形式化的语言来叙述就是，我们需要求一个条件概率，并找出那个使得这个概率最大的猜测单词。

$$ P( 纠正the,this,that \| 他实际输入的单词 thy) $$

运用一次贝叶斯公式，我们得到：

P(h \| D) = P(h) * P(D \| h) / P(D)

对于不同的具体猜测 h1 h2 h3 .. ，P(D) 都是一样的，所以可以忽略。

P(h \| D) ∝ P(h) * P(D \| h) 

对于给定观测数据，猜测是好是坏，取决于“这个猜测的独立发生的可能性大小（先验概率，Prior ）”和“这个猜测下导致我们观测结果的可能性大小（似然，Likelihood ）”的乘积。本例子中代表的是，  <u>the 本身在词汇表中被使用的可能性（频繁程度）大小（先验概率）和 想打 the 却打成 thew 的可能性大小（似然）的乘积。</u>【可以理解最大似然法了】

